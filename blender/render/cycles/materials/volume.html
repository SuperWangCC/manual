

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>体积着色器 &mdash; Blender Manual</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  

  
  
    
      <link rel="search" type="application/opensearchdescription+xml" title="在 Blender Manual 中搜索" href="../../../_static/opensearch.xml"/>
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/css/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="索引"
              href="../../../genindex.html"/>
        <link rel="search" title="搜索" href="../../../search.html"/>
    <link rel="top" title="Blender Manual" href="../../../index.html"/>
        <link rel="up" title="材质" href="index.html"/>
        <link rel="next" title="置换着色器" href="displacement.html"/>
        <link rel="prev" title="表面材质" href="surface.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../contents.html" class="icon icon-home"> Blender 2.78 Manual
          

          
            
            <img src="../../../_static/sidebar_logo.png" class="logo" />
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">Blender入门</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../interface/index.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../editors/index.html">编辑器</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data_system/index.html">数据系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modeling/index.html">制作模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sculpt_paint/index.html">绘制与雕刻</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rigging/index.html">骨骼装配</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../animation/index.html">动画</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../physics/index.html">物理</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">渲染</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../blender_render/index.html">Blender Render Engine</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Cycles Render Engine</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../introduction.html">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../settings/index.html">渲染设置</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">材质</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="introduction.html">介绍</a></li>
<li class="toctree-l4"><a class="reference internal" href="surface.html">表面材质</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">体积着色器</a></li>
<li class="toctree-l4"><a class="reference internal" href="displacement.html">置换着色器</a></li>
<li class="toctree-l4"><a class="reference internal" href="settings.html">Material Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="texture_editing.html">纹理编辑</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../nodes/index.html">节点&#8211;leroy翻译</a></li>
<li class="toctree-l3"><a class="reference internal" href="../world.html">世界</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lamps.html">灯光</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camera.html">摄像机</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features.html">特性</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gpu_rendering.html">GPU渲染</a></li>
<li class="toctree-l3"><a class="reference internal" href="../baking.html">渲染烘焙&#8211;Leroy 翻译</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optimizations/index.html">Optimizing Renders</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../output/index.html">Render Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../post_process/index.html">Post Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../freestyle/index.html">Freestyle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workflows/index.html">Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../opengl.html">OpenGL Render</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../audio/index.html">Audio Rendering</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../compositing/index.html">合成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_engine/index.html">游戏引擎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../preferences/index.html">用户偏好设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced/index.html">高级应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/index.html">问题排查</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/index.html">词汇表</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/index.html">关于本手册</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../contents.html">Blender 2.78 Manual</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../contents.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">渲染</a> &raquo;</li>
      
          <li><a href="../index.html">Cycles Render Engine</a> &raquo;</li>
      
          <li><a href="index.html">材质</a> &raquo;</li>
      
    <li>体积着色器</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/render/cycles/materials/volume.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="volume">
<h1>体积着色器<a class="headerlink" href="#volume" title="永久链接至标题">¶</a></h1>
<p>Volume rendering can be used to render effects like fire, smoke, mist, absorption in glass,
and many other effects that cannot be represented by surface meshes alone.</p>
<p>要设置一套体，先要创建一个包含这块体积的网格。在默认材质节点中，移除表面节点，连接体节点到定义体积的输入槽里面。要模拟玻璃的吸收效果可以把表面和体着色器都加上。世界设置也可以加体着色器来模拟雾等效果。</p>
<div class="section" id="volume-shaders">
<h2>体积着色器<a class="headerlink" href="#volume-shaders" title="永久链接至标题">¶</a></h2>
<p>Cycles supports three volume shader nodes,
that model particular effects as light passes through the volume and interacts with it:</p>
<ul class="simple">
<li><p class="first">体吸收会吸收在体中穿过的部分光线。可以用在着色黑烟或者彩色玻璃中，或者混合体散射的节点。这个节点有点像透射BSDF节点，阻挡部分光线让另一部分光线穿过。</p>
</li>
<li><p class="first">体散射是让穿过体的光线在碰到粒子后散射到其他方向。各项异性定义了光更多的向哪个方向散射。0值让光向所有方向散射（跟漫射BSDF节点很像），负值让光逆向散射更多，正值让光前向散射。这个节点可以做白色烟雾或者云的效果。</p>
</li>
<li><p class="first">散发可以从体发射灯光。这种情况可以模拟火焰效果。</p>
</li>
</ul>
<div class="figure align-center" id="id1">
<img alt="../../../_images/cycles_materials_volume.jpg" src="../../../_images/cycles_materials_volume.jpg" />
<p class="caption"><span class="caption-text">Volume Shader: Absorption/Absorption + Scatter/Emission.</span></p>
</div>
<div class="section" id="density">
<h3>密度<a class="headerlink" href="#density" title="永久链接至标题">¶</a></h3>
<p>所有的体着色器都有一个密度输入。密度定义了光线有多少需要跟体积进行交互，得到吸收或者散色，还有多少会直接穿透。要模拟烟雾的时候你需要指定一个密度场来说明体积的那些地方烟比较多（密度大于0），那些地方是没有烟的（密度等于0）。</p>
<p>体素在真实时间中是混合着粒子的，高密度表示单位体积内有更多的粒子。更多的粒子意味着光线有更高的机会跟一个粒子进行碰撞或者是被吸收或者被反射，部分可能是直接透射出体积。</p>
</div>
</div>
<div class="section" id="volume-material">
<h2>体积材质<a class="headerlink" href="#volume-material" title="永久链接至标题">¶</a></h2>
<div class="section" id="interaction-with-the-surface-shader">
<h3>和表面着色器交互<a class="headerlink" href="#interaction-with-the-surface-shader" title="永久链接至标题">¶</a></h3>
<p>一个材质可能会兼有表面和体着色器，或者只有其中一种。玻璃、水或者冰可能会同时用上两种，当需要将光部分吸收和部分穿透表面的时候，在表面上混合玻璃或者光泽着色器。</p>
<p>当表面着色器没有反射或者吸收光的时候，就进入了完全的体积。如果这时候没有体着色器指定，光就会直接穿到网格的另一面。如果定义了体着色器，光就会更网格包含的体有交互。光线可能会被体积里的任意点散射，吸收或者发射。</p>
</div>
<div class="section" id="mesh-topology">
<h3>网格拓扑<a class="headerlink" href="#mesh-topology" title="永久链接至标题">¶</a></h3>
<p>Meshes used for volume render should be closed and <a class="reference internal" href="../../../glossary/index.html#term-manifold"><span class="xref std std-term">manifold</span></a>.
That means that there should be no holes in the mesh. Each edge must be connected to exactly two
faces such that there are no holes or T-shaped faces where three or more faces are connected to an
edge.</p>
<p>想要结果正确法线必须全部指向外面。法线是用来探测光束是进入还是穿出体积的，如果法线指向错误的方向，如果网格上有洞的话，渲染器可能根本无法知道体积的内外方向。</p>
<p>要正确渲染玻璃折射也是同样的规则。</p>
</div>
</div>
<div class="section" id="volume-world">
<h2>世界体积<a class="headerlink" href="#volume-world" title="永久链接至标题">¶</a></h2>
<p>体光影可以在整个世界中应用，它会填满整个空间。</p>
<p>Currently, this is most useful for night time or other dark scenes,
as the world surface shader or sun lamps will have no effect if a volume shader is used.
This is because the world background is assumed to be infinitely far away,
which is accurate enough for the sun for example.
However, for modeling effects such as fog or atmospheric scattering,
it is not a good assumption that the volume fills the entire space,
as most of the distance between the sun and the earth is empty space.
For such effects it is be better to create a volume object surrounding the scene.
The size of this object will determine how much light is scattered or absorbed.</p>
</div>
<div class="section" id="smoke">
<h2>Smoke<a class="headerlink" href="#smoke" title="永久链接至标题">¶</a></h2>
<p>Creating a smoke material for cycles can be difficult however
the image below shows a good setup on how to do this.</p>
<div class="figure" id="id2">
<img alt="../../../_images/cycles_materials_smoke.png" src="../../../_images/cycles_materials_smoke.png" />
<p class="caption"><span class="caption-text">Smoke and Fire Material.</span></p>
</div>
</div>
<div class="section" id="scattering-bounces">
<h2>散射反弹<a class="headerlink" href="#scattering-bounces" title="永久链接至标题">¶</a></h2>
<p>Real world effects such as scattering in clouds or subsurface scattering require many
scattering bounces. However, unbiased rendering of such effects is slow and noisy. In typical
movie production scenes only 0 or 1 bounces might be used to keep render times under control.
The effect you get when rendering with zero volume bounces is what is known as
&#8220;single scattering&#8221;, the effect from more bounces is &#8220;multiple scattering&#8221;.</p>
<p>像皮肤和牛奶的材质渲染，次表面散射着色器是一个近似的多重散射效果可以非常有渲染效率但是精确度不高。</p>
<p>云和烟雾这样没有明确边界表面的材质，体渲染是必须的。看着是需要多次散射反弹的，但是实践中限制反弹次数在一次的话嗯呢该保证渲染时间可被接受。</p>
</div>
<div class="section" id="limitations">
<h2>局限<a class="headerlink" href="#limitations" title="永久链接至标题">¶</a></h2>
<p>Currently, the following are not not support:</p>
<ul class="simple">
<li><p class="first">修正体网格的光束可见性</p>
</li>
</ul>
<p>未在GPU上实现的功能：</p>
<ul class="simple">
<li>Equi Angular/MIS Volume Sampling</li>
<li><p class="first">体积多灯光采样</p>
</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="displacement.html" class="btn btn-neutral float-right" title="置换着色器" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="surface.html" class="btn btn-neutral" title="表面材质" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; 版权所有 : This page is licensed under a CC-BY-SA 4.0 Int. License.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'2.78',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1418081-1', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>